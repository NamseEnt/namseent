### 프로토타입 목표

엘든링이나 소울라이크 게임의 핵심 재미 요소인 '패링'을 추상화하여, 적의 공격 신호를 미리 파악하고 정확한 타이밍에 대응하는 경험을 테스트하는 간단한 웹 기반 프로토타입을 제작합니다.

### 주요 기능 명세

**1. 게임 흐름 (Game Flow)**

프로토타입은 '대기' → '힌트' → '공격 신호' → '판정' → '결과'의 순서로 진행됩니다.

- **대기 (Idle):** 게임이 시작되거나 한 라운드가 끝난 후의 기본 상태입니다.
- **힌트 (Hint):** '공격 신호'가 나타나기 전, 약 1~2초 동안 미묘한 시각적 힌트를 화면에 표시합니다.
- **공격 신호 (Cue):** '띵~!' 효과음과 함께 화면 중앙에 노란색 '+' 표시가 나타납니다.
- **판정 (Judgement):** '공격 신호'가 나타난 후 정해진 시간(예: 300ms) 내에 플레이어가 스페이스바를 눌렀는지 판정합니다.
- **결과 (Result):** 성공 또는 실패 여부를 화면에 표시하고, 반응 속도를 보여줍니다.

**2. 핵심 메커니즘**

- **랜덤 타이머:** '대기' 상태에서 다음 '힌트'가 나타나기까지의 시간은 불규칙해야 합니다. `setInterval` 대신 재귀적인 `setTimeout`을 사용하여 2초에서 5초 사이의 랜덤한 간격을 구현합니다.
- **키보드 입력:** JavaScript의 `keydown` 이벤트 리스너를 사용해 스페이스바 입력을 감지합니다. 입력은 '공격 신호' 상태에서만 유효해야 합니다.
- **타이밍 판정:** '공격 신호'가 표시된 시점의 타임스탬프와 스페이스바를 누른 시점의 타임스탬프를 비교하여 반응 시간을 계산합니다. 이 시간이 목표 시간(예: 300ms) 이내이면 성공, 아니면 실패로 판정합니다.

**3. 시각 및 음향 효과**

- **사전 힌트 (Pre-Cue):**

  - **효과:** '공격 신호'가 나타나기 전, 화면에 흙먼지가 피어오르거나 거품이 올라오는 듯한 부드러운 애니메이션 효과를 추가합니다.
  - **구현:** CSS 애니메이션(`@keyframes`)으로 효과를 정의하고, '힌트' 상태가 시작될 때 JavaScript로 해당 CSS 클래스를 요소에 추가하여 애니메이션을 재생합니다.

- **공격 신호 (Main Cue):**
  - **시각 효과:** 화면 중앙에 굵은 노란색 '+' 모양의 아이콘이 나타납니다. 이 아이콘은 잠시 나타났다가 사라져야 합니다.
  - **음향 효과:** '+' 아이콘이 나타나는 정확한 타이밍에 '띵~!' 하는 효과음을 재생합니다. HTML5 `Audio` 객체를 미리 로드해두고, `play()` 메소드를 호출하여 지연 없이 재생되도록 합니다.

**4. UI 및 표시 정보**

- **화면 구성:**
  - 중앙에는 게임이 진행될 메인 영역을配置합니다.
  - 상단 또는 하단에 현재 상태(예: "준비", "성공!", "실패...")를 표시하는 텍스트 영역을 둡니다.
  - 성공 시 반응 속도(ms)를 표시해 플레이어에게 피드백을 줍니다.

### 개발 단계 제안

1.  **기본 구조 설정 (HTML/CSS):**

    - 화면 중앙에 신호가 표시될 영역과 결과 텍스트를 표시할 영역을 만듭니다.
    - CSS로 노란색 '+' 모양과 힌트 효과(흙먼지, 거품 등)에 대한 기본 스타일 및 애니메이션을 정의합니다.

2.  **핵심 로직 구현 (JavaScript):**

    - 재귀적 `setTimeout`을 사용하여 랜덤 간격으로 게임 루프를 시작하는 함수를 만듭니다.
    - '공격 신호'를 화면에 표시하고 동시에 효과음을 재생하는 기능을 구현합니다.
    - `Date.now()`를 사용하여 '공격 신호' 표시 시간과 스페이스바 입력 시간의 차이를 계산하는 반응 속도 측정 로직을 작성합니다.

3.  **효과 및 피드백 강화:**
    - 게임 상태(힌트, 공격, 결과)에 따라 화면 요소의 표시 여부와 내용을 동적으로 변경합니다.
    - 성공/실패에 따라 다른 텍스트와 색상(예: 성공-녹색, 실패-빨간색)으로 피드백을 명확하게 전달합니다.

기술 스택은 React, Typescript, Tailwind 4.1, Vite를 이용합니다.
